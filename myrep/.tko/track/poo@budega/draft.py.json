{
    "patches": [
        {
            "label": "2025-11-12_14-51-03",
            "content": "class Person:\n    def __init__(self, nome):\n        self.__nome = nome\n    \n    def __str__(self):\n        return self.__nome\n\nclass Market:\n    def __init__(self, qtd):\n        self.__qtd = qtd\n        self.__counters = [None] * qtd\n        self.__waiting = []\n\n    def is_valid(self, n):\n        return 0 <= n< self.__qtd\n\n    def arrive(self, pessoa):\n        self.__waiting.append(pessoa)\n\n    def call(self, index):\n        if not self.__waiting:\n            print(\"fail: sem clientes\")\n            return\n\n        if self.__counters[index] is not None:\n            print(\"fail: caixa ocupado\")\n            return\n\n        self.__counters[index] = self.__waiting.pop(0)\n\n    def finish(self, index):\n        if not self.is_valid(index):\n            print(\"fail: caixa inexistente\")\n            return\n\n        if self.__counters[index] is None:\n            print(\"fail: caixa vazio\")\n            return\n\n        self.__counters[index] = None\n\n    def __str__(self):\n        sb = \"Caixas: [\"\n        for i, p in enumerate(self.__counters):\n            sb += \"-----\" if p is None else str(p)\n            if i < len(self.__counters) - 1:\n                sb += \", \"\n        sb += \"]\\n\"\n\n        sb += \"Espera: [\"\n        for i, p in enumerate(self.__waiting):\n            sb += str(p)\n            if i < len(self.__waiting) - 1:\n                sb += \", \"\n        sb += \"]\"\n\n        return sb\n\ndef main():\n    market = None\n    while True:\n        line = input()\n        print(f\"${line}\")\n        \n        par = line.split(\" \")\n        cmd = par[0]\n\n        if cmd == \"end\":\n            break\n        elif cmd == \"init\":\n            qtd_caixas = int(par[1])\n            market = Market(qtd_caixas)\n        elif cmd == \"show\":\n            print(market)\n        elif cmd == \"arrive\":\n            nome = par[1]\n            pessoa = Person(nome)\n            market.arrive(pessoa)\n        elif cmd == \"call\":\n            indice = int(par[1])\n            market.call(indice)\n        elif cmd == \"finish\":\n            indice = int(par[1])\n            market.finish(indice)\n        else:\n            print(\"fail: comando invalido\")\n\n\nmain()",
            "lines": "89"
        }
    ]
}